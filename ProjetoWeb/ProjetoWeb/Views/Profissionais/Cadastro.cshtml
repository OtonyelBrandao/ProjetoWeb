@model ProjetoWeb.Models.Profissionais
@{List<Especialidades> EspecialidadesList = ViewBag.Especialidades; }
<div class="container">
    <h4 class="h4">Profissionais</h4>
</div>
<hr />
<div class="row container">
    <div class="col-md-4 form-group">
        <form asp-action="Cadastro">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="Nome" class="control-label"></label>
                <input asp-for="Nome" class="form-control" />
                <span asp-validation-for="Nome" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Telefone" class="control-label"></label>
                <input asp-for="Telefone" class="form-control" />
                <span asp-validation-for="Telefone" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="WhatsApp" class="control-label"></label>
                <input asp-for="WhatsApp" class="form-control" />
                <span asp-validation-for="WhatsApp" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="CEP" class="control-label"></label>
                <input asp-for="CEP" class="form-control CEP" onblur="GetLogradouro()" />
                <span asp-validation-for="CEP" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Complemento" class="control-label"></label>
                <input asp-for="Complemento" class="form-control" />
                <span asp-validation-for="Complemento" class="text-danger"></span>
            </div>
            <div class="form-group">

                <label asp-for="Rua" class="control-label" id="logradouro"></label>
                <input disabled="disabled" asp-for="Rua" class="form-control logradouro" />
                <span asp-validation-for="Rua" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Bairro" class="control-label" id="bairro"></label>
                <input disabled="disabled" asp-for="Bairro" class="form-control bairro" />
                <span asp-validation-for="Bairro" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Cidade" class="control-label" id="localidade"></label>
                <input disabled="disabled" asp-for="Cidade" class="form-control localidade" />
                <span asp-validation-for="Cidade" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="UF" class="control-label" id="uf"></label>
                <input disabled="disabled" asp-for="UF" class="form-control uf" />
                <span asp-validation-for="UF" class="text-danger"></span>
            </div>
            <div class="form-group form-inline">
                <div class="form-group container">
                    @foreach (var item in EspecialidadesList )
                    {
                        <label for="Especialidades">@item.NomeDaEspecialidade</label>
                        <input type="checkbox" name="Especialidades" value="@item.Id" />
                    }
                </div>
            </div>
            <div class="form-group">
                <label asp-for="Nascimento" class="control-label"></label>
                <input asp-for="Nascimento" class="form-control" type="date" />
                <span asp-validation-for="Nascimento" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input type="submit" value="Cadastrar" class="btn btn-default" />
            </div>
        </form>
    </div>
</div>

<div>
    <a asp-action="Inicio">Voltar</a>
</div>
@section Scripts{
    <script>
        function GetLogradouro() {
            var cep = $('.CEP').val()
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("GetLogradouro","Profissionais")',
                    data: { CEP:  cep },
                    success: function (result) {

                            $(".logradouro").val(result.logradouro),
                            $(".bairro").val(result.bairro),
                            $(".localidade").val(result.localidade),
                            $(".uf").val(result.uf)
                    }
                });
        }
    </script>
}

